"use strict";(self.webpackChunkdiabetes=self.webpackChunkdiabetes||[]).push([[8391],{8391:(C,h,i)=>{i.r(h),i.d(h,{NutritionModule:()=>z});var l=i(6814),c=i(4190),d=i(5861),v=i(685),f=i(553),a=i(663),p=i(1374),s=i(6223),u=i(5879),N=i(7398),A=i(9862);const S=`${f.N.apiUrl}/patients/nutrition`;let y=(()=>{class e{constructor(t){this.http=t}getFood(t,E){const o=new A.WM({Authorization:`Bearer ${t}`});return this.http.post(S+"/food",E,{headers:o})}static#u=this.\u0275fac=function(E){return new(E||e)(u.LFG(A.eN))};static#t=this.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var U=i(2956);let I=(()=>{class e{constructor(t,E,o){this.NutritionHttpService=t,this.authService=E,this.router=o,this.unsubscribe=[]}getFood(t){let E=this.authService.getAuthFromLocalStorage();return this.NutritionHttpService.getFood(E?.access_token,t).pipe((0,N.U)(o=>o))}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}static#u=this.\u0275fac=function(E){return new(E||e)(u.LFG(y),u.LFG(U.e),u.LFG(c.F0))};static#t=this.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var _=i(8435),B=i(6242),T=i(8525),L=i(3680);function F(e,m){if(1&e&&(u.TgZ(0,"mat-option",49),u._uU(1),u.qZA()),2&e){const t=m.$implicit;u.s9C("value",t.carb_value),u.xp6(1),u.hij(" ",t.food_name," ")}}function J(e,m){1&e&&(u.TgZ(0,"div")(1,"div",50),u._uU(2," \u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e17\u0e35\u0e48\u0e17\u0e48\u0e32\u0e19\u0e40\u0e25\u0e37\u0e2d\u0e01 \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e30\u0e17\u0e32\u0e19\u0e44\u0e14\u0e49 "),u.qZA(),u._UZ(3,"br")(4,"br")(5,"img",53),u.qZA())}function P(e,m){1&e&&(u.TgZ(0,"div",50),u._uU(1," \u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e17\u0e35\u0e48\u0e17\u0e48\u0e32\u0e19\u0e40\u0e25\u0e37\u0e2d\u0e01 \u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e30\u0e17\u0e32\u0e19\u0e44\u0e14\u0e49 "),u.qZA(),u._UZ(2,"br")(3,"br")(4,"img",54))}function O(e,m){if(1&e&&(u.TgZ(0,"div",35)(1,"div",36)(2,"div",37)(3,"div")(4,"h2",38),u._uU(5," \u0e1c\u0e25\u0e01\u0e32\u0e23\u0e04\u0e33\u0e19\u0e27\u0e19 "),u.qZA()(),u.TgZ(6,"div",50),u._uU(7),u.qZA(),u._UZ(8,"br"),u.TgZ(9,"div",50),u._uU(10),u.qZA(),u._UZ(11,"div",47),u.TgZ(12,"div",50),u._uU(13),u.qZA(),u._UZ(14,"br")(15,"br")(16,"br"),u.YNc(17,J,6,0,"div",51),u.YNc(18,P,5,0,"ng-template",null,52,u.W1O),u.qZA()()()),2&e){const t=u.MAs(19),E=u.oxw();u.xp6(7),u.hij(" \u0e04\u0e48\u0e32\u0e04\u0e32\u0e1a\u0e2d\u0e44\u0e2e\u0e40\u0e14\u0e23\u0e15\u0e02\u0e2d\u0e07\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e17\u0e35\u0e48\u0e40\u0e25\u0e37\u0e2d\u0e01 : ",E.food_select," "),u.xp6(3),u.hij(" \u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e2d\u0e1a\u0e2d\u0e44\u0e2e\u0e40\u0e14\u0e23\u0e15\u0e02\u0e2d\u0e07\u0e17\u0e48\u0e32\u0e19\u0e15\u0e48\u0e2d\u0e27\u0e31\u0e19 : ",E.calculation," "),u.xp6(3),u.hij(" \u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e2d\u0e1a\u0e2d\u0e44\u0e2e\u0e40\u0e14\u0e23\u0e15\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d\u0e43\u0e19\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 : ",E.result," "),u.xp6(4),u.Q6J("ngIf",E.condition)("ngIfElse",t)}}const k=[{path:"",component:(()=>{class e{constructor(t,E,o,n,r,g){this.nutritionService=t,this.diabetesRecordService=E,this.authService=o,this.router=n,this.cdf=r,this.localStorageService=g,this.routes=v._,this.isClassAdded=[!1]}ngOnInit(){const t=this.authService.checkUserUUID();this.user_fullname=this.authService.checkUserFullName(),this.user_status=this.authService.checkUserStatusPatient(),this.user_host=this.authService.checkUserHospital();const E=new a.v;this.nutritionService.getFood(E).pipe((0,p.P)()).subscribe(n=>{this.foods=n});const o=new a.v;o.uuid=t,this.diabetesRecordService.getProfile(o).pipe((0,p.P)()).subscribe(n=>{console.log("getProfile",n),console.log("HN",n.hn),o.hn=n.hn,this.diabetesRecordService.getNutrition(o).pipe((0,p.P)()).subscribe(r=>{console.log("index",r[0]),this.calculation=0,this.calculation=1===r[0].gender?1.2*(66+13.7*r[0].weight+5*r[0].height-6.8*r[0].age):1.2*(665+9.6*r[0].weight+1.8*r[0].height-4.7*r[0].age)})}),this.form=new s.cw({food_select:new s.NI("",[s.kI.required])})}get field(){return this.form.controls}onSubmit(){var t=this;return(0,d.Z)(function*(){t.food_select=t.field.food_select.value.toString(),console.log("food_select",t.food_select),t.result=t.calculation-t.food_select,Number(t.food_select)>t.calculation?(console.log("can't eat"),t.condition=!1):Number(t.food_select)<t.calculation&&(console.log("can eat"),t.condition=!0)})()}onReset(){var t=this;return(0,d.Z)(function*(){t.food_select=null})()}ngAfterViewInit(){var t=this;return(0,d.Z)(function*(){const E=yield t.localStorageService.getItem("status-diabetes-fbs");console.log("user_status_diabetes",E);const o=document.querySelector(".image-container");o&&("green"===E?o.style.backgroundColor="green":"yellow"===E?o.style.backgroundColor="yellow":"orange"===E?o.style.backgroundColor="orange":"red"===E&&(o.style.backgroundColor="red"))})()}toggleClass(t){this.isClassAdded[t]=!this.isClassAdded[t]}logout(){localStorage.removeItem(f.N.USERDATA_KEY),this.router.navigate(["home"])}static#u=this.\u0275fac=function(E){return new(E||e)(u.Y36(I),u.Y36(_.G),u.Y36(U.e),u.Y36(c.F0),u.Y36(u.sBO),u.Y36(B.n))};static#t=this.\u0275cmp=u.Xpm({type:e,selectors:[["app-nutrition"]],decls:98,vars:14,consts:[[1,"breadcrumb-bar-two"],[1,"container"],[1,"row","align-items-center","inner-banner"],[1,"col-md-12","col-12","text-center"],[1,"breadcrumb-title"],["aria-label","breadcrumb",1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item"],[1,"content"],[1,"row"],[1,"col-md-5","col-lg-4","col-xl-3"],[1,"stickybar"],[1,"profile-sidebar"],[1,"widget-profile","pro-widget-content"],[1,"profile-info-widget"],["href","javascript:void(0)",1,"booking-doc-img"],[1,"image-container"],["src","assets/img/patients/user.png","alt","User Image"],[1,"profile-det-info"],[2,"color","rgb(83, 83, 83)"],[1,"patient-details"],[1,"dashboard-widget"],[1,"dashboard-menu"],[1,"fas","fa-columns"],[1,"fas","fa-bookmark"],[1,"active"],[1,"fas","fa-users"],[1,"fas","fa-comments"],[1,"fas","fa-file-invoice-dollar"],[1,"fas","fa-list-alt"],[3,"click"],[1,"fas","fa-sign-out-alt"],[1,"col-md-7","col-lg-8","col-xl-9"],[1,"container","card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"me-5"],[1,"d-flex","align-items-center","fs-5","fw-semibold","mb-2"],[1,"required"],[3,"formGroup"],["formControlName","food_select","name","food_select","required","",1,"form-control","m-input","form-control-solid"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",3,"click"],[1,"indicator-label"],["type","submit",1,"btn","btn-danger",3,"click"],[1,"separator","mb-8"],["class","container card",4,"ngIf"],[3,"value"],[2,"font-size","1.5em"],[4,"ngIf","ngIfElse"],["close",""],["src","../../../../assets/icons/checked.png","alt","right","width","200","height","200"],["src","../../../../assets/icons/delete-button.png","alt","wrong","width","200","height","200"]],template:function(E,o){1&E&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),u._uU(5,"\u0e42\u0e20\u0e0a\u0e19\u0e32\u0e01\u0e32\u0e23\u0e02\u0e2d\u0e07\u0e09\u0e31\u0e19"),u.qZA(),u.TgZ(6,"nav",5)(7,"ol",6)(8,"li",7)(9,"a",8),u._uU(10,"\u0e2b\u0e19\u0e49\u0e32\u0e41\u0e23\u0e01"),u.qZA()(),u.TgZ(11,"li",9),u._uU(12,"\u0e42\u0e20\u0e0a\u0e19\u0e32\u0e01\u0e32\u0e23\u0e02\u0e2d\u0e07\u0e09\u0e31\u0e19"),u.qZA()()()()()()(),u.TgZ(13,"div",10)(14,"div",1)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16)(21,"a",17)(22,"div",18),u._UZ(23,"img",19),u.qZA()(),u.TgZ(24,"div",20)(25,"h3"),u._uU(26),u.qZA(),u.TgZ(27,"h5",21),u._uU(28),u.qZA(),u.TgZ(29,"h5",21),u._uU(30),u.qZA(),u._UZ(31,"div",22),u.qZA()()(),u.TgZ(32,"div",23)(33,"nav",24)(34,"ul")(35,"li")(36,"a",8),u._UZ(37,"i",25),u.TgZ(38,"span"),u._uU(39,"\u0e2a\u0e21\u0e38\u0e14\u0e1b\u0e23\u0e30\u0e08\u0e33\u0e15\u0e31\u0e27\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22"),u.qZA()()(),u.TgZ(40,"li")(41,"a",8),u._UZ(42,"i",26),u.TgZ(43,"span"),u._uU(44,"\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e19\u0e49\u0e33\u0e15\u0e32\u0e25"),u.qZA()()(),u.TgZ(45,"li",27)(46,"a",8),u._UZ(47,"i",28),u.TgZ(48,"span"),u._uU(49,"\u0e42\u0e20\u0e0a\u0e19\u0e32\u0e01\u0e32\u0e23\u0e02\u0e2d\u0e07\u0e09\u0e31\u0e19"),u.qZA()()(),u.TgZ(50,"li")(51,"a",8),u._UZ(52,"i",29),u.TgZ(53,"span"),u._uU(54,"\u0e41\u0e1c\u0e19\u0e14\u0e39\u0e41\u0e25\u0e15\u0e19\u0e40\u0e2d\u0e07"),u.qZA()()(),u.TgZ(55,"li")(56,"a",8),u._UZ(57,"i",30),u.TgZ(58,"span"),u._uU(59,"\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e17\u0e4c\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22"),u.qZA()()(),u.TgZ(60,"li")(61,"a",8),u._UZ(62,"i",31),u.TgZ(63,"span"),u._uU(64,"\u0e04\u0e33\u0e28\u0e31\u0e1e\u0e17\u0e4c\u0e17\u0e32\u0e07\u0e01\u0e32\u0e23\u0e41\u0e1e\u0e17\u0e22\u0e4c"),u.qZA()()(),u.TgZ(65,"li")(66,"a",8),u._UZ(67,"i",29),u.TgZ(68,"span"),u._uU(69,"\u0e1e\u0e22\u0e32\u0e01\u0e23\u0e13\u0e4c\u0e40\u0e1a\u0e32\u0e2b\u0e27\u0e32\u0e19"),u.qZA()()(),u.TgZ(70,"li")(71,"a",32),u.NdJ("click",function(){return o.logout()}),u._UZ(72,"i",33),u.TgZ(73,"span"),u._uU(74,"Logout"),u.qZA()()()()()()()()(),u.TgZ(75,"div",34)(76,"div",35)(77,"div",36)(78,"div",37)(79,"div")(80,"h2",38),u._uU(81," \u0e42\u0e20\u0e0a\u0e19\u0e32\u0e01\u0e32\u0e23\u0e02\u0e2d\u0e07\u0e09\u0e31\u0e19 "),u.qZA()(),u.TgZ(82,"label",39)(83,"span",40),u._uU(84,"\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e08\u0e32\u0e19\u0e40\u0e14\u0e35\u0e22\u0e27 : "),u.qZA()(),u.TgZ(85,"form",41)(86,"mat-select",42),u.YNc(87,F,2,2,"mat-option",43),u.qZA()(),u._UZ(88,"br")(89,"br"),u.TgZ(90,"button",44),u.NdJ("click",function(){return o.onSubmit()}),u.TgZ(91,"span",45),u._uU(92,"\u0e04\u0e33\u0e19\u0e27\u0e19"),u.qZA()(),u.TgZ(93,"button",46),u.NdJ("click",function(){return o.onReset()}),u.TgZ(94,"span",45),u._uU(95,"\u0e40\u0e23\u0e34\u0e48\u0e21\u0e43\u0e2b\u0e21\u0e48"),u.qZA()()()()(),u._UZ(96,"div",47),u.YNc(97,O,20,5,"div",48),u.qZA()()()()),2&E&&(u.xp6(9),u.Q6J("routerLink",o.routes.home),u.xp6(17),u.hij("\u0e0a\u0e37\u0e48\u0e2d : ",o.user_fullname,""),u.xp6(2),u.hij("\u0e2a\u0e16\u0e32\u0e19\u0e30 : ",o.user_status,""),u.xp6(2),u.hij("\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e42\u0e23\u0e07\u0e1e\u0e22\u0e32\u0e1a\u0e32\u0e25 : ",o.user_host,""),u.xp6(6),u.Q6J("routerLink",o.routes.patientDashboard),u.xp6(5),u.Q6J("routerLink",o.routes.patientDiabetes),u.xp6(5),u.Q6J("routerLink",o.routes.patientNutrition),u.xp6(5),u.Q6J("routerLink",o.routes.patientSelfcare),u.xp6(5),u.Q6J("routerLink",o.routes.patientHistory),u.xp6(5),u.Q6J("routerLink",o.routes.patientMedicalterm),u.xp6(5),u.Q6J("routerLink",o.routes.patientPredict),u.xp6(19),u.Q6J("formGroup",o.form),u.xp6(2),u.Q6J("ngForOf",o.foods),u.xp6(10),u.Q6J("ngIf",o.food_select))},dependencies:[l.sg,l.O5,c.rH,s._Y,s.JJ,s.JL,s.Q7,s.sg,s.u,T.gD,L.ey],styles:[".image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:150px;height:150px;border-radius:50%}"]})}return e})()}];let M=(()=>{class e{static#u=this.\u0275fac=function(E){return new(E||e)};static#t=this.\u0275mod=u.oAB({type:e});static#e=this.\u0275inj=u.cJS({imports:[c.Bz.forChild(k),c.Bz]})}return e})();var Y=i(5986),j=i(5683),Q=i(2032),R=i(1476),w=i(2599),D=i(5313),x=i(53);let z=(()=>{class e{static#u=this.\u0275fac=function(E){return new(E||e)};static#t=this.\u0275mod=u.oAB({type:e});static#e=this.\u0275inj=u.cJS({imports:[l.ez,M,x.vi,R.TU,D.p0,j.lN,Q.c,D.p0,Y.p9,w.rP,s.UX,T.LD]})}return e})()},6242:(C,h,i)=>{i.d(h,{n:()=>f});var l=i(2438),c=i(3019),d=i(7398),v=i(5879);let f=(()=>{class a{constructor(){const s=(0,l.R)(window,"status-diabetes-fbs").pipe((0,d.U)(u=>({key:u.key,newValue:u.newValue})));this.storage$=(0,c.T)(s)}getStorageObservable(){return this.storage$}setItem(s,u){localStorage.setItem(s,u)}getItem(s){return localStorage.getItem(s)}removeItem(s){localStorage.removeItem(s)}static#u=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]);